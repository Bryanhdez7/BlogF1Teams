---
// src/components/Carousel.astro
---
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  crossorigin="anonymous"
/>
<link rel="stylesheet" href="/src/styles/carousel.css" />

<div class="carousel-container">
  <div class="slide">
    <!-- Cards individuales -->
    {[
      {
        name: "Ferrari",
        desc: "Pilotos: Charles Leclerc y Lewis Hamilton.",
        img: "https://cdn-3.motorsport.com/images/amp/6n9JybOY/s1000/ferrari-sf-25.jpg"
      },
      {
        name: "Red Bull",
        desc: "Pilotos: Max Verstappen y Yuki Tsunoda.",
        img: "https://www.themanual.com/wp-content/uploads/sites/9/2025/02/Red-Bull-Racing-RB21-F1-car-for-the-2025-season-right-front-three-quarter-view.jpg?p=1"
      },
      {
        name: "Mercedes",
        desc: "Pilotos: George Russell y Andrea Kimi Antonelli.",
        img: "https://media.formula1.com/image/upload/f_auto,c_limit,w_1440,q_auto/t_16by9Centre/f_auto/q_auto/fom-website/2025/Mercedes/Formula%201%20header%20templates%20-%202025-02-24T142006.923"
      },
      {
        name: "McLaren",
        desc: "Pilotos: Lando Norris y Oscar Piastri.",
        img: "https://mclaren.bloomreach.io/delivery/resources/content/gallery/mclaren-racing/formula-1/2025/nsr/f1-75-live-m/web/mcl39-cover-image.jpg"
      },
      {
        name: "Aston Martin",
        desc: "Pilotos: Fernando Alonso y Lance Stroll.",
        img: "https://cdn-4.motorsport.com/images/amp/2y3jxxo6/s1000/aston-martin-racing-amr25-2.jpg"
      },
      {
        name: "Alpine",
        desc: "Pilotos: Pierre Gasly y Jack Doohan.",
        img: "https://www.racefans.net/wp-content/uploads/2025/02/Untitled-4.jpg"
      },
      {
        name: "Haas",
        desc: "Pilotos: Oliver Bearman y Esteban Ocon.",
        img: "https://cdn-8.motorsport.com/images/amp/0mb1LGq2/s1000/haas-vf-24-livery.jpg"
      },
      {
        name: "Racing Bulls",
        desc: "Pilotos: Liam Lawson e Isack Hadjar.",
        img: "https://i.redd.it/vcarb-racing-bulls-2025-livery-v0-wqw0o5wilyje1.jpg?width=2048&format=pjpg&auto=webp&s=1e1a1ff06d8f2c96286a3b68a5d84a4741b966ab"
      },
      {
        name: "Williams",
        desc: "Pilotos: Alexander Albon y Carlos Sainz.",
        img: "https://cdn.sanity.io/images/fnx611yr/production/7646e1734aef24c6f791a90f9bbba4959c95aa0f-4096x2304.jpg"
      },
      {
        name: "Kick Sauber",
        desc: "Pilotos: Nico Hülkenberg y Gabriel Bortoleto.",
        img: "https://e00-especiales-marca.uecdn.es/motor/images/formula1/escuderias/2025/kicksauber/coche03.jpg"
      }
    ].map(car => (
      <div class="item" style={`background-image: url(${car.img});`}>
        <div class="content">
          <div class="name">{car.name}</div>
          <div class="des">{car.desc}</div>
          <button aria-label={`Más sobre ${car.name}`}>Ver Más</button>
        </div>
      </div>
    ))}
  </div>

  <div class="button">
    <button class="prev" aria-label="Anterior" role="button">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    <button class="next" aria-label="Siguiente" role="button">
      <i class="fa-solid fa-arrow-right"></i>
    </button>
  </div>

  <script is:inline>
    window.addEventListener('DOMContentLoaded', () => {
      const next = document.querySelector('.next');
      const prev = document.querySelector('.prev');
      const slide = document.querySelector('.slide');

      next.addEventListener('click', () => {
        const first = slide.firstElementChild;
        slide.appendChild(first.cloneNode(true));
        slide.removeChild(first);
      });

      prev.addEventListener('click', () => {
        const last = slide.lastElementChild;
        slide.insertBefore(last.cloneNode(true), slide.firstElementChild);
        slide.removeChild(last);
      });
    });
  </script>
</div>
